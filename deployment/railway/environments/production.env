# LTET Employee Trust Portal - Railway Production Environment
# This file contains the production environment variables for Railway deployment

# =============================================================================
# CORE APPLICATION SETTINGS
# =============================================================================
NODE_ENV=production
PORT=3000
HOSTNAME=0.0.0.0

# Application Info
NEXT_PUBLIC_APP_NAME=LTET Employee Trust Portal
NEXT_PUBLIC_VERSION=1.0.0

# =============================================================================
# DATABASE CONFIGURATION (Railway Auto-Provided)
# =============================================================================
DATABASE_URL=${{Postgres.DATABASE_URL}}
REDIS_URL=${{Redis.REDIS_URL}}

# Database Pool Settings
DB_POOL_MIN=2
DB_POOL_MAX=10
DB_IDLE_TIMEOUT=30000
DB_CONNECTION_TIMEOUT=60000

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================
JWT_SECRET=${{JWT_SECRET}}
JWT_EXPIRES_IN=24h
JWT_REFRESH_EXPIRES_IN=7d

ENCRYPTION_KEY=${{ENCRYPTION_KEY}}
BCRYPT_ROUNDS=12

# Session Configuration
SESSION_TIMEOUT=3600
SESSION_SECRET=${{SESSION_SECRET}}

# CORS Configuration
CORS_ORIGINS=${{RAILWAY_PUBLIC_DOMAIN}}

# =============================================================================
# EXTERNAL API INTEGRATIONS (MOCK/DEMO SETUP)
# =============================================================================

# HRMS Integration
HRMS_API_URL=https://mock-hrms.railway.app
HRMS_CLIENT_ID=demo_client
HRMS_CLIENT_SECRET=demo_secret
HRMS_TOKEN_URL=https://mock-hrms.railway.app/oauth/token
HRMS_SCOPE=employee:read
HRMS_TIMEOUT=30000
HRMS_RETRY_ATTEMPTS=3

# SAP Integration
SAP_API_URL=https://mock-sap.railway.app
SAP_CLIENT_ID=demo_client
SAP_CLIENT_SECRET=demo_secret
SAP_TOKEN_URL=https://mock-sap.railway.app/oauth/token
SAP_BASE_URL=https://mock-sap.railway.app/api/v1
SAP_SCOPE=payment:write
SAP_TIMEOUT=45000
SAP_RETRY_ATTEMPTS=2

# Payment Gateway
PAYMENT_GATEWAY_API_KEY=demo_api_key
PAYMENT_GATEWAY_SECRET_KEY=demo_secret_key
PAYMENT_GATEWAY_BASE_URL=https://mock-payment.railway.app/api/v1
PAYMENT_GATEWAY_WEBHOOK_SECRET=demo_webhook_secret
PAYMENT_GATEWAY_ENVIRONMENT=sandbox
PAYMENT_GATEWAY_TIMEOUT=45000
PAYMENT_GATEWAY_RETRY_ATTEMPTS=2

# =============================================================================
# NOTIFICATION SERVICES
# =============================================================================

# Email Configuration
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=${{SMTP_USER}}
SMTP_PASS=${{SMTP_PASS}}
EMAIL_FROM=noreply@ltet-portal.com
EMAIL_FROM_NAME=LTET Employee Trust Portal

# SMS Configuration
SMS_API_KEY=demo_sms_key
SMS_API_URL=https://mock-sms.railway.app/api/v1
SMS_FROM=LTET

# Push Notification Configuration
PUSH_NOTIFICATION_ENABLED=false

# =============================================================================
# FILE STORAGE AND PROCESSING
# =============================================================================

# Document Storage (Mock S3 for demo)
AWS_ACCESS_KEY_ID=demo_access_key
AWS_SECRET_ACCESS_KEY=demo_secret_key
AWS_REGION=ap-south-1
S3_BUCKET_NAME=ltet-demo-documents
S3_ENDPOINT=https://mock-s3.railway.app

# OCR Service
OCR_SERVICE_URL=https://mock-ocr.railway.app/api/v1
OCR_API_KEY=demo_ocr_key
OCR_TIMEOUT=60000

# File Upload Limits
MAX_FILE_SIZE=10485760
ALLOWED_FILE_TYPES=pdf,jpg,jpeg,png,doc,docx

# =============================================================================
# CACHING CONFIGURATION
# =============================================================================

# Redis Cache Settings
CACHE_TTL=3600
CACHE_PREFIX=ltet:
CACHE_ENABLED=true

# Application Cache Settings
EMPLOYEE_CACHE_TTL=1800
SCHEME_CACHE_TTL=3600
APPLICATION_CACHE_TTL=900

# =============================================================================
# RATE LIMITING
# =============================================================================

# API Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_SKIP_SUCCESSFUL_REQUESTS=false

# Authentication Rate Limiting
AUTH_RATE_LIMIT_WINDOW_MS=900000
AUTH_RATE_LIMIT_MAX_ATTEMPTS=5

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================

# Log Levels: error, warn, info, debug
LOG_LEVEL=info
LOG_FORMAT=json

# Enable detailed logging for demo
DEBUG_MODE=true
ENABLE_REQUEST_LOGGING=true
ENABLE_ERROR_STACK_TRACE=true

# =============================================================================
# MONITORING AND HEALTH CHECKS
# =============================================================================

# Health Check Configuration
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_TIMEOUT=5000

# Metrics Collection
METRICS_ENABLED=true
METRICS_PORT=9090

# =============================================================================
# DEMO MODE CONFIGURATION
# =============================================================================

# Enable demo features
DEMO_MODE=true
DEMO_DATA_ENABLED=true

# Demo user credentials
DEMO_ADMIN_EMAIL=admin@ltet-demo.com
DEMO_ADMIN_PASSWORD=Demo@123
DEMO_USER_EMAIL=user@ltet-demo.com
DEMO_USER_PASSWORD=User@123

# Mock service flags
MOCK_HRMS_ENABLED=true
MOCK_SAP_ENABLED=true
MOCK_PAYMENT_GATEWAY_ENABLED=true
MOCK_OCR_ENABLED=true
MOCK_SMS_ENABLED=true

# =============================================================================
# BUSINESS LOGIC CONFIGURATION
# =============================================================================

# Application Processing
AUTO_APPROVAL_ENABLED=true
AUTO_APPROVAL_THRESHOLD=50000
MANUAL_REVIEW_THRESHOLD=100000

# Payment Processing
BATCH_PAYMENT_SIZE=50
PAYMENT_RETRY_ATTEMPTS=3
PAYMENT_TIMEOUT_HOURS=24

# Document Processing
DOCUMENT_RETENTION_DAYS=2555
DOCUMENT_ENCRYPTION_ENABLED=true
OCR_CONFIDENCE_THRESHOLD=0.8

# Notification Settings
EMAIL_NOTIFICATION_ENABLED=true
SMS_NOTIFICATION_ENABLED=true
IN_APP_NOTIFICATION_ENABLED=true

# =============================================================================
# SECURITY HEADERS AND MIDDLEWARE
# =============================================================================

# Security Headers
HELMET_ENABLED=true
CORS_ENABLED=true
COMPRESSION_ENABLED=true

# Content Security Policy
CSP_ENABLED=true
CSP_REPORT_ONLY=false

# =============================================================================
# BACKUP AND MAINTENANCE
# =============================================================================

# Backup Configuration
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30

# Maintenance Mode
MAINTENANCE_MODE=false
MAINTENANCE_MESSAGE=System is under maintenance. Please try again later.

# =============================================================================
# PERFORMANCE OPTIMIZATION
# =============================================================================

# Connection Pooling
HTTP_KEEP_ALIVE=true
HTTP_TIMEOUT=30000

# Compression
GZIP_ENABLED=true
GZIP_LEVEL=6

# Static Asset Caching
STATIC_CACHE_MAX_AGE=31536000

# =============================================================================
# RAILWAY-SPECIFIC SETTINGS
# =============================================================================

# Railway automatically provides these
RAILWAY_ENVIRONMENT=production
RAILWAY_PROJECT_ID=${{RAILWAY_PROJECT_ID}}
RAILWAY_SERVICE_ID=${{RAILWAY_SERVICE_ID}}
RAILWAY_DEPLOYMENT_ID=${{RAILWAY_DEPLOYMENT_ID}}
RAILWAY_PUBLIC_DOMAIN=${{RAILWAY_PUBLIC_DOMAIN}}
RAILWAY_PRIVATE_DOMAIN=${{RAILWAY_PRIVATE_DOMAIN}}

# Service URLs (Railway internal networking)
USER_SERVICE_URL=http://user-service.railway.internal:3001
SCHEME_SERVICE_URL=http://scheme-service.railway.internal:3002
APPLICATION_SERVICE_URL=http://application-service.railway.internal:3003
NOTIFICATION_SERVICE_URL=http://notification-service.railway.internal:3004
DOCUMENT_SERVICE_URL=http://document-service.railway.internal:3005

# Public API URL
NEXT_PUBLIC_API_URL=https://${{RAILWAY_PUBLIC_DOMAIN}}

# =============================================================================
# FEATURE FLAGS
# =============================================================================

# Feature toggles
FEATURE_AI_RECOMMENDATIONS=true
FEATURE_AUTOMATED_APPROVAL=true
FEATURE_BULK_OPERATIONS=true
FEATURE_ADVANCED_REPORTING=true
FEATURE_MULTI_LANGUAGE=false
FEATURE_MOBILE_APP_API=true

# =============================================================================
# COMPLIANCE AND AUDIT
# =============================================================================

# Audit Logging
AUDIT_LOG_ENABLED=true
AUDIT_LOG_RETENTION_DAYS=2555

# Data Privacy
GDPR_COMPLIANCE_ENABLED=true
DATA_ANONYMIZATION_ENABLED=false

# =============================================================================
# THIRD-PARTY INTEGRATIONS
# =============================================================================

# Analytics (disabled for demo)
GOOGLE_ANALYTICS_ID=
MIXPANEL_TOKEN=

# Error Tracking (disabled for demo)
SENTRY_DSN=
BUGSNAG_API_KEY=

# =============================================================================
# DEVELOPMENT AND TESTING
# =============================================================================

# Development flags (disabled in production)
ENABLE_SWAGGER_UI=false
ENABLE_GRAPHQL_PLAYGROUND=false
ENABLE_DEBUG_ROUTES=false

# Testing flags
ENABLE_TEST_ROUTES=false
MOCK_EXTERNAL_SERVICES=true